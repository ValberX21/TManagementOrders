@model TManagementOrders.Domain.Entities.OrderFilterViewModel

@{
    ViewData["Title"] = "Lista de Pedidos";
}

<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">Pedidos</h2>
        <a asp-action="GotoCreateOrderPage"
           asp-controller="Orders"
           class="btn btn-primary">
            <i class="bi bi-plus-lg"></i> Novo Pedido
        </a>
    </div>
</div>

<form asp-action="Index" method="get" class="mb-4">
    <div class="row">
        <div class="col-md-5">
            <input type="text"
                   name="ClientFilter"
                   value="@Model.SelectedClientName"
                   class="form-control"
                   placeholder="Filtrar por nome do cliente..." />
        </div>
        <div class="col-md-5">
           <select name="StatusFilter" class="form-select">
                <option value="">Todos os status</option>
                <option value="NEW">Novo</option>
                <option value="PROCESSING">Processando</option>
                <option value="FINISHED">Finalizado</option>

            </select>
        </div>
        <div class="col-md-2 text-end">
            <button type="submit" class="btn btn-outline-secondary w-100">
                <i class="bi bi-search"></i> Filtrar
            </button>
        </div>
    </div>
</form>

<table class="table table-bordered table-striped">
    <thead class="thead-dark">
        <tr>
            <th>Nome do Cliente</th>
            <th>Data do Pedido</th>
            <th>Status</th>
            <th>Total do Pedido</th>
            <th>Visualizar</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var order in Model.OrderItems)
        {
            <tr>
                <td>@order.ClientName</td>
                <td>@order.DateOrder.ToString("dd/MM/yyyy")</td>
                <td>@order.Status</td>
                <td>R$ @order.Total.ToString("N2")</td>
                <td class="text-center">
                    <a asp-action="GotoDetailOrderPage"
                       asp-controller="Orders"
                       asp-route-id="@order.Id"
                       class="btn btn-sm btn-outline-info"
                       title="Visualizar Pedido">
                        <i class="bi bi-eye"></i>
                    </a>
                </td>
            </tr>
        }

    </tbody>
</table>
</<div>

</div>